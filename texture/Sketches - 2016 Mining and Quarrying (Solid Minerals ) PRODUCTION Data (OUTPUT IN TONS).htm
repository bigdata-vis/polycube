<!DOCTYPE html>
<!-- saved from url=(0034)http://localhost:8085/bubble2.html -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <link rel="apple-touch-icon" sizes="76x76" href="http://localhost:8085/assets/img/apple-icon.png">
    <link rel="icon" type="image/png" href="http://localhost:8085/assets/img/favicon.png">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

    <title>Sketches - 2016 Mining and Quarrying (Solid Minerals ) PRODUCTION Data (OUTPUT IN TONS) </title>

    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">

    <!--     Fonts and icons     -->
    <link rel="stylesheet" href="./Sketches - 2016 Mining and Quarrying (Solid Minerals ) PRODUCTION Data (OUTPUT IN TONS)_files/icon">
    <link rel="stylesheet" type="text/css" href="./Sketches - 2016 Mining and Quarrying (Solid Minerals ) PRODUCTION Data (OUTPUT IN TONS)_files/css">
    <link rel="stylesheet" href="./Sketches - 2016 Mining and Quarrying (Solid Minerals ) PRODUCTION Data (OUTPUT IN TONS)_files/font-awesome.min.css">

    <!-- CSS Files -->
    <link href="./Sketches - 2016 Mining and Quarrying (Solid Minerals ) PRODUCTION Data (OUTPUT IN TONS)_files/bootstrap.min.css" rel="stylesheet">
    <link href="./Sketches - 2016 Mining and Quarrying (Solid Minerals ) PRODUCTION Data (OUTPUT IN TONS)_files/material-kit.css" rel="stylesheet">

    <!-- CSS Just for demo purpose, don't include it in your project -->
    <link href="./Sketches - 2016 Mining and Quarrying (Solid Minerals ) PRODUCTION Data (OUTPUT IN TONS)_files/demo.css" rel="stylesheet">
    <style>

        svg {
            font: 16px "Avenir";

        }

        div.tooltip {
            position: absolute;
            text-align: center;
            width: 60px;
            height: 45px;
            padding: 2px;
            font: 12px sans-serif;
            background: lightsteelblue;
            border: 0px;
            border-radius: 8px;
            pointer-events: none;
        }
    </style>

    <script src="./Sketches - 2016 Mining and Quarrying (Solid Minerals ) PRODUCTION Data (OUTPUT IN TONS)_files/d3.v4.min.js"></script>
</head>

<body class="tutorial-page">

<nav class="navbar navbar-fixed-top navbar-color-on-scroll" role="navigation">
    <div class="container">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
            <button id="menu-toggle" type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar bar1"></span>
                <span class="icon-bar bar2"></span>
                <span class="icon-bar bar3"></span>
            </button>
            <a href="http://www.creative-tim.com/">
                <div class="logo-container">
                    <div class="logo">
                        <img src="./Sketches - 2016 Mining and Quarrying (Solid Minerals ) PRODUCTION Data (OUTPUT IN TONS)_files/logo.png" alt="Creative Tim Logo">
                    </div>
                    <div class="brand">
                        S.Salisu
                    </div>
                </div>
            </a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse">
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <!--<a href="index.html">Back to Kit</a>-->
                </li>
                <li>
                    <!--<a href="https://github.com/timcreative/material-kit/issues">Have an issue?</a>-->
                </li>
            </ul>

        </div><!-- /.navbar-collapse -->
    </div><!-- /.container-fluid -->
</nav>

<div class="wrapper">
    <div class="header header-filter" style="background-image: url(&#39;https://images.unsplash.com/photo-1423655156442-ccc11daa4e99?crop=entropy&amp;dpr=2&amp;fit=crop&amp;fm=jpg&amp;h=750&amp;ixjsv=2.1.0&amp;ixlib=rb-0.3.5&amp;q=50&amp;w=1450&#39;);">
        <div class="container">
            <div class="row">
                <div class="col-md-6 col-md-offset-3">
                    <h2 class="title text-center">2016 Mining and Quarrying (Solid Minerals ) PRODUCTION Data (OUTPUT IN
                        TONS)</h2>
                </div>
            </div>
        </div>
    </div>

    <div class="main main-raised">
        <div class="section">
            <div class="container">
                <div class="row">
                    <div class="col-md-12">
                        <button onclick="dataCln({})"></button>
                        <svg font-family="sans-serif" font-size="10" text-anchor="middle" width="960" height="960"><circle r="1.4155173159811056" cx="239.99882246077726" cy="348.7500491087804" style="fill: rgb(178, 103, 69);"></circle><circle r="1.6344984532163949" cx="683.1229728684075" cy="348.7500491087804" style="fill: rgb(178, 103, 69);"></circle><text opacity="0.006907234693608322" x="239.99882246077726" y="348.7500491087804">m</text><text opacity="0.006907234693608322" x="683.1229728684075" y="348.7500491087804">r</text><circle r="1.5289333669265375" cx="429.81251156316966" cy="732.1776271801239" style="fill: rgb(178, 103, 69);"></circle><text opacity="0.006907234693608322" x="429.81251156316966" y="732.1776271801239">e</text><circle r="133.3582400157622" cx="251.84898830511182" cy="656.3471510065347" style="fill: rgb(70, 179, 158);"></circle><circle r="243.47772094703407" cx="632.7985696258188" cy="656.3471510065347" style="fill: rgb(70, 179, 158);"></circle><circle r="76.99441577467393" cx="364.09676926027856" cy="837.7333538056665" style="fill: rgb(70, 179, 158);"></circle><circle r="230.98324731020935" cx="318.96260825007266" cy="294.1442991896676" style="fill: rgb(70, 179, 158);"></circle><text opacity="0.9930937653063917" x="251.84898830511182" y="656.3471510065347">w</text><text opacity="0.9930937653063917" x="632.7985696258188" y="656.3471510065347">z</text><text opacity="0.9930937653063917" x="364.09676926027856" y="837.7333538056665">x</text><text opacity="0.9930937653063917" x="318.96260825007266" y="294.1442991896676">q</text></svg>
                    </div>
                </div>

            </div>
        </div>
    </div>

</div>
<footer class="footer footer-transparent">
    <div class="container">
        <nav class="pull-left">
            <ul>
                <li>
                    <a href="http://www.creative-tim.com/">
                        Creative Tim
                    </a>
                </li>
                <li>
                    <a href="http://presentation.creative-tim.com/">
                        About Us
                    </a>
                </li>
                <li>
                    <a href="http://blog.creative-tim.com/">
                        Blog
                    </a>
                </li>
                <li>
                    <a href="http://www.creative-tim.com/license">
                        Licenses
                    </a>
                </li>
            </ul>
        </nav>
        <div class="social-area pull-right">
            <a class="btn btn-social btn-twitter btn-just-icon" href="https://twitter.com/CreativeTim">
                <i class="fa fa-twitter"></i>
            </a>
            <a class="btn btn-social btn-facebook btn-just-icon" href="https://www.facebook.com/CreativeTim">
                <i class="fa fa-facebook-square"></i>
            </a>
            <a class="btn btn-social btn-google btn-just-icon" href="https://plus.google.com/+CreativetimPage">
                <i class="fa fa-google-plus"></i>
            </a>
        </div>
        <div class="copyright">
            © 2016 Creative Tim, made with love
        </div>
    </div>
</footer>


<!--   Core JS Files   -->
<script src="./Sketches - 2016 Mining and Quarrying (Solid Minerals ) PRODUCTION Data (OUTPUT IN TONS)_files/jquery.min.js" type="text/javascript"></script>
<script src="./Sketches - 2016 Mining and Quarrying (Solid Minerals ) PRODUCTION Data (OUTPUT IN TONS)_files/bootstrap.min.js" type="text/javascript"></script>
<script src="./Sketches - 2016 Mining and Quarrying (Solid Minerals ) PRODUCTION Data (OUTPUT IN TONS)_files/material.min.js"></script>

<!--  Plugin for the Sliders, full documentation here: http://refreshless.com/nouislider/ -->
<script src="./Sketches - 2016 Mining and Quarrying (Solid Minerals ) PRODUCTION Data (OUTPUT IN TONS)_files/nouislider.min.js" type="text/javascript"></script>

<!--  Plugin for the Datepicker, full documentation here: http://www.eyecon.ro/bootstrap-datepicker/ -->
<script src="./Sketches - 2016 Mining and Quarrying (Solid Minerals ) PRODUCTION Data (OUTPUT IN TONS)_files/bootstrap-datepicker.js" type="text/javascript"></script>

<!-- Control Center for Material Kit: activating the ripples, parallax effects, scripts from the example pages etc -->
<script src="./Sketches - 2016 Mining and Quarrying (Solid Minerals ) PRODUCTION Data (OUTPUT IN TONS)_files/material-kit.js" type="text/javascript"></script>

<script>

    $().ready(function () {

        $(window).on('scroll', materialKit.checkScrollForTransparentNavbar);

    });

</script>
<script>

    var width = 960,
            height = 960;

    var svg = d3.select("svg")
            .attr("width", width)
            .attr("height", height);

    var alphabet = "abcdefghijklmnopqrstuvwxyz".split("");

    var dataSets = [];
    var titleArray;

    d3.csv("/data/mineralData.csv", function (data) {

        var keys = data.map(function (d) {
            return Object.keys(d)
        });
        var cleanArray = keys[0].splice(1, (keys[0].length));
        titleArray = cleanArray;

        for(var i=0; i < cleanArray.length; i++){
            console.log(cleanArray[i]);
            console.log(data);
//                d["Amethyst"] = d["Amethyst"];
        }

        //clean data
        data.forEach(function (d) {
            var item = "Granite Aggregate";
            var str = d[item];
            str = str.replace(/[^\d\.\-]/g, "");
            //
            d.value = +str;

            //links

//            console.log(d);

            return d;
        });

//        console.log(data);

    });

    function dataCln(d, parameters) {

        var item = parameters["mineral"] || "Granite Aggregate";
        var str = d[item];
        str = str.replace(/[^\d\.\-]/g, "");
        //
        d.value = +str;
        d.Call_Type = d["State"];

        defaultData.push(d);

        return d;
    }

    var pack = d3.pack()
            .size([width, height])
            .padding(1.5);

    redraw(randomizeData());

    d3.interval(function () {
        redraw(randomizeData());
    }, 5500);

    function redraw(classes) {

        // transition
        var t = d3.transition()
                .duration(750);

        // hierarchy
        var h = d3.hierarchy({children: classes})
                .sum(function (d) {
                    return d.size;
                });

        //JOIN
        var circle = svg.selectAll("circle")
                .data(pack(h).leaves(), function (d) {
                    return d.data.name;
                });

        var text = svg.selectAll("text")
                .data(pack(h).leaves(), function (d) {
                    return d.data.name;
                });

        //EXIT
        circle.exit()
                .style("fill", "#b26745")
                .transition(t)
                .attr("r", 1e-6)
                .remove();

        text.exit()
                .transition(t)
                .attr("opacity", 1e-6)
                .remove();

        //UPDATE
        circle
                .transition(t)
                .style("fill", "#3a403d")
                .attr("r", function (d) {
                    return d.r
                })
                .attr("cx", function (d) {
                    return d.x;
                })
                .attr("cy", function (d) {
                    return d.y;
                });

        text
                .transition(t)
                .attr("x", function (d) {
                    return d.x;
                })
                .attr("y", function (d) {
                    return d.y;
                });

        //ENTER
        circle.enter().append("circle")
                .attr("r", 1e-6)
                .attr("cx", function (d) {
                    return d.x;
                })
                .attr("cy", function (d) {
                    return d.y;
                })
                .style("fill", "#fff")
                .transition(t)
                .style("fill", "#45b29d")
                .attr("r", function (d) {
                    return d.r
                });

        text.enter().append("text")
                .attr("opacity", 1e-6)
                .attr("x", function (d) {
                    return d.x;
                })
                .attr("y", function (d) {
                    return d.y;
                })
                .text(function (d) {
                    return d.data.name;
                })
                .transition(t)
                .attr("opacity", 1);
    }

    function randomizeData() {
        var d0 = shuffle(alphabet),
                d1 = [],
                d2 = [];
        for (var i = 0; i < random(1, alphabet.length); i++) {
            d1.push(d0[i]);
        }

        d1.forEach(function (d) {
            d2.push({name: d, size: random(1, 10)})
        });
        return d2;
    }

    function random(min, max) {
        return Math.floor(Math.random() * (max - min + 1)) + min;
    }
    function shuffle(array) {
        var m = array.length, t, i;

        // While there remain elements to shuffle…
        while (m) {

            // Pick a remaining element…
            i = Math.floor(Math.random() * m--);

            // And swap it with the current element.
            t = array[m];
            array[m] = array[i];
            array[i] = t;
        }

        return array;
    }

</script>

</body></html>